{"mappings":"YAAA,IAkBAA,EAAe,CACbC,eAnBqB,SAACC,EAAKC,GAC3B,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CC,eAXqB,SAAAV,GACrB,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,ICNvCK,EAAeC,SAASC,cAAc,SACtCC,EAAgBF,SAASC,cAAc,YACvCE,EAAcH,SAASC,cAAc,SAI3CC,EAAcE,iBAAiB,SAoC/B,WACE,IAAKL,EAAab,MAChB,OAAOmB,MAAM,6BAGf,IAAMC,EAAUC,KAAKC,MACfC,EAAe,0BAEjBC,OADiBJ,EAAQ,YACNI,OAAnBX,EAAab,MAAM,8CAEvBiB,EAAYQ,mBAAmB,YAAaF,GAC5CG,EAASC,KAAK,CACZC,GAAIC,OAAOT,GACXU,KAAMjB,EAAab,MACnB+B,MAAM,IAKRlC,EAASC,eAAe,WAAY4B,GACpCb,EAAab,MAAQ,E,IAvDvBiB,EAAYC,iBAAiB,SAe1B,SAAuBc,GAE8B,GAAlDA,EAAMC,OAAOC,UAAUC,SAAS,SAAU,CAGc,IAApDC,EAAeJ,EAAMC,OAAOI,cAAcC,QAAQC,SACxDb,EAAWA,EAASc,QAAO,SAAAC,G,OAAQA,EAAKb,KAAOQ,C,IAC/CvC,EAASC,eAAe,WAAY4B,GACpCM,EAAMC,OAAOI,cAAcK,Q,MACtB,GAA6B,OAAzBV,EAAMC,OAAOU,QAAkB,CAExCX,EAAMC,OAAOC,UAAUU,OAAO,WAC9B,IAAMC,EAAcnB,EAASoB,WAC3B,SAAAL,G,OAAQA,EAAKb,KAAOI,EAAMC,OAAOK,QAAQC,Q,IAE3Cb,EAASmB,GAAad,MAAQL,EAASmB,GAAad,KACpDlC,EAASC,eAAe,WAAY4B,E,KA5BxC,IAAIA,EAAW7B,EAASY,eAAe,aAAe,GAGtD,GAFAF,QAAQwC,IAAIrB,GAERA,EAASsB,OAAQ,CACnB,IAAMC,EAAmBvB,EAASwB,KAAI,SAAAT,GACpC,MAAO,cACLjB,OADmBiB,EAAKV,KAAO,UAAY,KAAK,qBAE7CP,OADHiB,EAAKb,GACN,MAAcJ,OAAViB,EAAKX,KAAK,wC,IAEjBb,EAAYQ,mBAAmB,YAAawB,EAAiBE,KAAK,I","sources":["src/helpers/storage.js","src/js/todo-list.js"],"sourcesContent":["const setStorageData = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst getStorageData = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  setStorageData,\n  getStorageData,\n};\n","// -1- import { getStorageData, setStorageData } from '../helpers/storage';\nimport storage2 from '../helpers/storage';\n\n// https://www.youtube.com/watch?v=RG-gek5nXLI&t=4240s\n// Завдання\n// Написати to-do-list де можна створювати,\n// видаляти елементи та реалізувати збереження списку в локал сторедж\n\nconst inputElement = document.querySelector('input');\nconst buttonElement = document.querySelector('.add-btn');\nconst listElement = document.querySelector('.list');\n//console.log(inputElement);\n//console.log(listElement);\n\nbuttonElement.addEventListener('click', addNewItem);\nlistElement.addEventListener('click', listHandlerClick);\n\n//let listData = [];\nlet listData = storage2.getStorageData('toDoList') || [];\nconsole.log(listData);\n\nif (listData.length) {\n  const itemsTemplateArr = listData.map(item => {\n    return `<li class=\"${item.done ? 'checked' : null}\" data-identity=\"${\n      item.id\n    }\">${item.text}<span class=\"close\">&#215</span></li>`;\n  });\n  listElement.insertAdjacentHTML('beforeend', itemsTemplateArr.join(''));\n} // null или \"\" -> item.done ? 'checked' : null\n\nfunction listHandlerClick(event) {\n  // В зависимости где произошел клик или удаяем или чекаем эллемент\n  if (event.target.classList.contains('close')) {\n    // Если клик на x удаляеи эллемент с данный, обновляем локалсторедж и на экране\n    // делаем не через поиск по Id как при чеке, а через фильтр т.к. эллементов мало\n    const itemIdentify = event.target.parentElement.dataset.identity;\n    listData = listData.filter(item => item.id !== itemIdentify);\n    storage2.setStorageData('toDoList', listData);\n    event.target.parentElement.remove();\n  } else if (event.target.tagName === 'LI') {\n    // Если кликаем не на x а на элемент списк нужно  его чекнуть (отметить или снять отметку)\n    event.target.classList.toggle('checked');\n    const targetIndex = listData.findIndex(\n      item => item.id === event.target.dataset.identity\n    );\n    listData[targetIndex].done = !listData[targetIndex].done;\n    storage2.setStorageData('toDoList', listData);\n  }\n}\n\nfunction addNewItem() {\n  if (!inputElement.value) {\n    return alert('You must write something!');\n  }\n\n  const dateNow = Date.now();\n  const itemTemplate = `\n  <li data-identity=\"${dateNow}\">\n    ${inputElement.value} <span class=\"close\">&#215</span>\n  </li>`;\n  listElement.insertAdjacentHTML('beforeend', itemTemplate);\n  listData.push({\n    id: String(dateNow),\n    text: inputElement.value,\n    done: false,\n  });\n  // -1- setStorageData('toDoList', listData);\n  // -error- todo-list.js:30 Uncaught TypeError: (0 , _storage.setStorageData) is not a function\n  //  at HTMLSpanElement.addNewItem (todo-list.js:30:17)\n  storage2.setStorageData('toDoList', listData);\n  inputElement.value = '';\n}\n"],"names":["$6631439211515e27$export$2e2bcd8739ae039","setStorageData","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getStorageData","getItem","undefined","parse","$52ec1f2e70417bc0$var$inputElement","document","querySelector","$52ec1f2e70417bc0$var$buttonElement","$52ec1f2e70417bc0$var$listElement","addEventListener","alert","dateNow","Date","now","itemTemplate","concat","insertAdjacentHTML","$52ec1f2e70417bc0$var$listData","push","id","String","text","done","event","target","classList","contains","itemIdentify","parentElement","dataset","identity","filter","item","remove","tagName","toggle","targetIndex","findIndex","log","length","$52ec1f2e70417bc0$var$itemsTemplateArr","map","join"],"version":3,"file":"02-todo-list.96cfd1ea.js.map"}