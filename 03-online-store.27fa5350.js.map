{"mappings":"oeAKA,IAAAA,EAAAC,EAAA,S,uCA4EeC,SAASC,cAAc,cAAtC,MACMC,EAAOF,SAASC,cAAc,Y,IAKjBE,EAAnB,MAAMC,EAAkE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDP,IAAyD,G,IAC1DQ,EAAlB,MAAMC,EAA+D,QAAnDD,EAAAN,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOI,oBAAY,IAAnDF,IAAuD,GAyE7C,SAAnBG,EAAYC,GAGnB,MAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAC1D,OAAOC,EAAAC,YAAYC,MAAK,EAACH,GAAEA,KAASA,IAAOJ,G,EAxD7C,EAAAQ,EAAAC,cAAaJ,EAAAC,YAAapB,GAE1BA,EAAKwB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAIC,iBACAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAMtB,MAAhBC,EAAUlB,EAAYa,EAAIE,SAEhC,EAAAI,EAAAC,aAAYF,E,CAiBd,GAAIL,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAC9C,MAAMC,EAAUlB,EAAYa,EAAIE,QAChCjB,EAAUuB,KAAKH,GACfzB,aAAa6B,QAAQtC,EAAAW,OAAOI,WAAYR,KAAKgC,UAAUzB,G,CAEzD,GAAIe,EAAIE,OAAOC,UAAUC,SAAS,eAAgB,CAChD,MAAMC,EAAUlB,EAAYa,EAAIE,QAGhC,GADkBzB,EAAWkC,MAAK,EAAClB,GAAEA,KAASA,IAAOY,EAAQZ,KAE3D,OAEFhB,EAAW+B,KAAKH,GAChBzB,aAAa6B,QAAQtC,EAAAW,OAAOC,aAAcL,KAAKgC,UAAUjC,G","sources":["src/js/online-store.js"],"sourcesContent":["// to createModal\n// import * as basicLightbox from 'basiclightbox';\n// !!! работает только на локальном сервере\n//import 'basiclightbox/dist/basiclightbox.min.css';\n\nimport { common } from '../03-common';\nimport { createMarkup } from '../helpers/createMarkup';\nimport { createModal } from '../helpers/createModal';\nimport { instruments } from '../helpers/instruments';\n\n// const instruments = [\n//   {\n//     id: 1,\n//     img: 'https://static.dnipro-m.ua/cache/products/4878/catalog_origin_269592.jpg',\n//     name: 'Шуруповерт',\n//     price: 1500,\n//     description:\n//       'Мережевий дриль-шуруповерт TD-30 — надійний помічник для робіт по дому та в невеликій майстерні, якщо необхідно виконувати роботу переважно з закручування кріпильних елементів. Муфта регулювання крутного моменту робить інструмент універсальним вибором як для свердління, так і для роботи з кріпленнями.',\n//   },\n//   {\n//     id: 2,\n//     img: 'https://static.dnipro-m.ua/cache/products/5096/catalog_origin_271077.jpg',\n//     name: 'Перфоратор',\n//     price: 3948,\n//     description:\n//       'Перфоратор бочковий Dnipro-M ВН-20 використовується для виконання широкого спектру будівельних і ремонтних робіт: буріння та свердління отворів, розмішування будівельних сумішей, демонтажу і т.д.',\n//   },\n//   {\n//     id: 3,\n//     img: 'https://static.dnipro-m.ua/cache/products/1248/catalog_origin_257336.jpg',\n//     name: 'Шліфмашина',\n//     price: 1299,\n//     description:\n//       'Кутова шліфувальна машина Dnipro-M GS-98 – модель, яка поєднує в собі оптимальне співвідношення потужності, ваги та мобільності. Конструкція шліфмашини сприяє зручній та надійній роботі, навіть однією рукою. Інструмент ідеально підходить для виконання різу на висоті та використання у важкодоступних місцях. Низький рівень шуму та вібрації, двопозиційне розташування додаткової рукоятки під кутом 100 градусів, мінімізує втому під час шліфування.',\n//   },\n//   {\n//     id: 4,\n//     img: 'https://static.dnipro-m.ua/cache/products/5596/catalog_origin_191105.jpg',\n//     name: 'Пила',\n//     price: 11049,\n//     description:\n//       'Мобільна акумуляторна ланцюгова пила DCS-200BC DUAL призначена для обрізання зайвих гілок, спилювання дерев та чагарника, заготівлі дров, покрою будматеріалів та демонтажних робіт. Її просто використовувати у будь-яких місцях: на висоті, на виїзних роботах, у лісі або саду. При цьому Вам не потрібно буде турбуватися про підключення до мережі.',\n//   },\n//   {\n//     id: 5,\n//     img: 'https://static.dnipro-m.ua/cache/products/2300/catalog_origin_261037.jpg',\n//     name: 'Рівень',\n//     price: 897,\n//     description:\n//       'Рівень серії ProVision виробництва DNIPRO-M має не тільки високу точність вимірювань і чудові захисні властивості, а й надає максимальний комфорт користувачеві в процесі експлуатації.',\n//   },\n//   {\n//     id: 6,\n//     img: 'https://static.dnipro-m.ua/cache/products/6566/catalog_origin_270253.jpg',\n//     name: 'Тример',\n//     price: 3699,\n//     description:\n//       'Тример електричний Dnipro-M 110 призначений для покосу густої трави, а також кущів з діаметром стовбура до 10 мм.',\n//   },\n//   {\n//     id: 7,\n//     img: 'https://static.dnipro-m.ua/cache/products/6483/catalog_origin_270227.jpg',\n//     name: 'Мотокоса',\n//     price: 11049,\n//     description:\n//       \"Мотокоса Dnipro-M 43 призначена для покосу трави, чагарників, бур'янів, газонів, а також для заготівлі сіна в невеликих масштабах.    Використовується для польових робіт на садовій ділянці площею до 2000 м2.\",\n//   },\n//   {\n//     id: 8,\n//     img: 'https://static.dnipro-m.ua/cache/products/2741/catalog_origin_271775.jpg',\n//     name: 'Генератор',\n//     price: 10890,\n//     description:\n//       'Бензиновий генератор GX-25 номінальною потужністю 2,5 кВт забезпечить автономність побутових приладів на дачі або у приватному будинку. Ви зможете одночасно підключити до нього освітлення, холодильник, зарядку телефону, ноутбук та водяний насос.',\n//   },\n// ];\n\n//export { instruments };\n\n//console.log(instruments);\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n//console.log(search);\n// to common.js\n// const KEY_FAVORITE = 'favorite';\n// const KEY_BASKET = 'basket';\nconst favoritArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\n// to helpers\n// function createMarkup(arr) {\n//   const markup = arr\n//     .map(\n//       ({ id, img, name }) => `\n//     <li data-id=\"${id}\" class=\"js-card\">\n//         <img src=\"${img}\" alt=\"${name}\" width=\"300\">\n//         <h2>${name}</h2>\n//         <p><a class=\"js-info\" href=\"#\">More informayion</a></p>\n//         <div>\n//             <button class=\"js-favorite\">Add to favorite</button>\n//             <button class=\"js-basket\">Add to basket</button>\n//         </div>\n//     </li>`\n//     )\n//     .join('');\n//   list.innerHTML = markup;\n// }\n\ncreateMarkup(instruments, list);\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  if (evt.target.classList.contains('js-info')) {\n    // const { id } = evt.target.closest('.js-card').dataset;\n    // //console.log(id);\n    // const product = findProduct(Number(id));\n    // //console.log(product);\n    //  рефакторинг - улучшаем код\n    const product = findProduct(evt.target);\n\n    createModal(product);\n    // to createModal\n    //     const instance = basicLightbox.create(`\n    //     <div class=\"modal\">\n    //       <img src=\"${product.img}\" alt=\"${product.name}\"  width=\"200\"/>\n    //       <h2>${product.name}</h2>\n    //       <h3>${product.price} грн</h3>\n    //       <p>${product.description}</p>\n    //       <div>\n    //             <button class=\"js-favorite\">Add to favorite</button>\n    //             <button class=\"js-basket\">Add to basket</button>\n    //         </div>\n    //     </div>\n    // `);\n    //     instance.show();\n  }\n\n  if (evt.target.classList.contains('js-basket')) {\n    const product = findProduct(evt.target);\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n  if (evt.target.classList.contains('js-favorite')) {\n    const product = findProduct(evt.target);\n    // проверка на повторный эллемент в массиве\n    const inStorage = favoritArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoritArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoritArr));\n  }\n}\n\n//createMarkup(instruments);\n//createMarkup(instruments, list);\n\n// нужно вынести в helpers, но сдублировали  в 03-favorit.js\nfunction findProduct(elem) {\n  //const { id: productId } = elem.closest('.js-card').dataset;\n  // при деструктуризации изменим название\n  const productId = Number(elem.closest('.js-card').dataset.id);\n  return instruments.find(({ id }) => id === productId);\n}\n"],"names":["$61VKf","parcelRequire","document","querySelector","$ac5efdfb7aa857eb$var$list","$ac5efdfb7aa857eb$var$ref","$ac5efdfb7aa857eb$var$favoritArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$ac5efdfb7aa857eb$var$ref1","$ac5efdfb7aa857eb$var$basketArr","KEY_BASKET","$ac5efdfb7aa857eb$var$findProduct","elem","productId","Number","closest","dataset","id","$c1Bmg","instruments","find","$dEdDu","createMarkup","addEventListener","evt","preventDefault","target","classList","contains","product","$l5ICX","createModal","push","setItem","stringify","some"],"version":3,"file":"03-online-store.27fa5350.js.map"}