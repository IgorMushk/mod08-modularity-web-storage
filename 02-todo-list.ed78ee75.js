!function(){var t={setStorageData:function(t,e){try{var a=JSON.stringify(e);localStorage.setItem(t,a)}catch(t){console.error("Set state error: ",t.message)}},getStorageData:function(t){try{var e=localStorage.getItem(t);return null===e?void 0:JSON.parse(e)}catch(t){console.error("Get state error: ",t.message)}}},e=document.querySelector("input"),a=document.querySelector(".add-btn"),n=document.querySelector(".list");a.addEventListener("click",(function(){if(!e.value)return alert("You must write something!");var a=Date.now(),o='<li data-identity="'.concat(a,'">').concat(e.value,'<span class="close">&#215</span></li>');n.insertAdjacentHTML("beforeend",o),r.push({id:String(a),text:e.value,done:!1}),t.setStorageData("toDoList",r),e.value=""})),n.addEventListener("click",(function(e){if(e.target.classList.contains("close")){var a=e.target.parentElement.dataset.identity;r=r.filter((function(t){return t.id!==a})),t.setStorageData("toDoList",r),e.target.parentElement.remove()}else if("LI"===e.target.tagName){e.target.classList.toggle("checked");var n=r.findIndex((function(t){return t.id===e.target.dataset.identity}));r[n].done=!r[n].done,t.setStorageData("toDoList",r)}}));var r=t.getStorageData("toDoList")||[];if(console.log(r),r.length){var o=r.map((function(t){return'<li class="'.concat(t.done?"checked":null,'" data-identity="').concat(t.id,'">').concat(t.text,'<span class="close">&#215</span></li>')}));n.insertAdjacentHTML("beforeend",o.join(""))}}();
//# sourceMappingURL=02-todo-list.ed78ee75.js.map
