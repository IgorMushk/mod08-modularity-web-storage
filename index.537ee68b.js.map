{"mappings":"IA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,QAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,UAI9BT,IACb,IACEK,aAAaQ,WAAWb,E,CACxB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,ICD7C,MAAMK,EACG,gBADHA,EAEM,SAGNC,EAAW,GAEXC,EAAOC,SAASC,cAAc,eAE9BC,EAASF,SAASC,cAAc,cAChCE,EAASH,SAASI,iBAAiB,gBAEzCL,EAAKM,iBAAiB,SAsBtB,SAAoBC,GAKlB,MAAMC,KAAEA,EAAIvB,MAAEA,GAAUsB,EAAME,OAC9BV,EAASS,GAAQvB,C,IA3BnBe,EAAKM,iBAAiB,UAEtB,SAAqBI,GACnBA,EAAIC,iBACJ,MAAMC,MAAEA,EAAKC,SAAEA,GAAad,EAC5B,IAAKa,IAAUC,EAEK,YADlBC,MAAM,0BAIR,GAAIF,IAAUd,GAAmBe,IAAaf,EAE5C,YADAgB,MAAM,mCAIR/B,EAAQgC,KAxBQ,aAwBQhB,GACxBI,EAAOa,YAAc,SACrBZ,EAAOa,SAAQC,GAASA,EAAMC,aAAa,YAAY,KACvDnB,EAAKoB,O","sources":["src/js/storage.js","src/js/login.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import storage from './storage';\n\n// ЗАДАЧА 1 (аналогия задачи 3 из ДЗ модуля 8)\n\n// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми при сабмите\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// Недоступними зміни.\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n//\n// const USER_DATA = {\n//   email: 'user@mail.com',\n//   password: 'secret',\n// };\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\nconst LOCAL_KEY = 'login-data';\nconst userData = {};\n\nconst form = document.querySelector('.login-form');\n//console.log(form);\nconst logBtn = document.querySelector('.login-btn');\nconst inputs = document.querySelectorAll('.login-input');\n\nform.addEventListener('input', onSaveDate);\nform.addEventListener('submit', clickOnData);\n\nfunction clickOnData(evt) {\n  evt.preventDefault();\n  const { email, password } = userData;\n  if (!email || !password) {\n    alert('Не все поля заполнены!');\n    return;\n  }\n\n  if (email == !USER_DATA.email || password !== USER_DATA.password) {\n    alert('email или passord не совпадают!');\n    return;\n  }\n  //console.log(userData);\n  storage.save(LOCAL_KEY, userData);\n  logBtn.textContent = 'Logout';\n  inputs.forEach(input => input.setAttribute('readonly', true));\n  form.reset();\n}\n\nfunction onSaveDate(event) {\n  //console.dir(event.target);\n  //   console.dir(event.target.name);\n  //   console.dir(event.target.value);\n\n  const { name, value } = event.target;\n  userData[name] = value;\n}\n"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$27435ee7e70aa165$var$USER_DATA","$27435ee7e70aa165$var$userData","$27435ee7e70aa165$var$form","document","querySelector","$27435ee7e70aa165$var$logBtn","$27435ee7e70aa165$var$inputs","querySelectorAll","addEventListener","event","name","target","evt","preventDefault","email","password","alert","save","textContent","forEach","input","setAttribute","reset"],"version":3,"file":"index.537ee68b.js.map"}